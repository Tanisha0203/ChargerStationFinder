"use strict";(self["webpackChunkcharging_station_frontend"]=self["webpackChunkcharging_station_frontend"]||[]).push([[374],{9374:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});n(2010);var r=n(6768),o=n(5130),u=n(4232),l={class:"dashboard"},a={class:"filters"},i=["value"],c={class:"table-container"},s={key:0},d=["onClick"],f=["onClick"],p={key:1,class:"loading"},k={key:0,class:"modal"},h={class:"modal-content"},v={class:"form-group"},m={class:"form-group"},L={class:"form-group"},b={class:"form-group"},g={class:"form-group"},w={class:"form-group"},y={class:"modal-actions"},C={type:"submit",class:"submit-btn"};function A(e,t,n,A,E,T){return(0,r.uX)(),(0,r.CE)("div",l,[t[22]||(t[22]=(0,r.Lk)("h1",null,"Charging Stations Dashboard",-1)),(0,r.Lk)("div",a,[(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return A.filters.status=e}),class:"filter-select"},t[12]||(t[12]=[(0,r.Lk)("option",{value:""},"All Status",-1),(0,r.Lk)("option",{value:"Active"},"Active",-1),(0,r.Lk)("option",{value:"Inactive"},"Inactive",-1)]),512),[[o.u1,A.filters.status]]),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return A.filters.connectorType=e}),class:"filter-select"},[t[13]||(t[13]=(0,r.Lk)("option",{value:""},"All Connector Types",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(A.connectorTypes,(function(e){return(0,r.uX)(),(0,r.CE)("option",{key:e,value:e},(0,u.v_)(e),9,i)})),128))],512),[[o.u1,A.filters.connectorType]]),(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=function(e){return A.filters.minPower=e}),placeholder:"Min Power (kW)",class:"filter-input"},null,512),[[o.Jo,A.filters.minPower]])]),(0,r.Lk)("button",{onClick:t[3]||(t[3]=function(e){return A.showAddModal=!0}),class:"add-btn"}," Add New Charger "),(0,r.Lk)("div",c,[A.loading?((0,r.uX)(),(0,r.CE)("div",p,"Loading...")):((0,r.uX)(),(0,r.CE)("table",s,[t[14]||(t[14]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Name"),(0,r.Lk)("th",null,"Location"),(0,r.Lk)("th",null,"Status"),(0,r.Lk)("th",null,"Power Output"),(0,r.Lk)("th",null,"Connector Type"),(0,r.Lk)("th",null,"Actions")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(A.filteredChargers,(function(e){return(0,r.uX)(),(0,r.CE)("tr",{key:e._id},[(0,r.Lk)("td",null,(0,u.v_)(e.name),1),(0,r.Lk)("td",null,(0,u.v_)(A.formatLocation(e.location)),1),(0,r.Lk)("td",null,[(0,r.Lk)("span",{class:(0,u.C4)(["status",e.status.toLowerCase()])},(0,u.v_)(e.status),3)]),(0,r.Lk)("td",null,(0,u.v_)(e.powerOutput)+" kW",1),(0,r.Lk)("td",null,(0,u.v_)(e.connectorType),1),(0,r.Lk)("td",null,[(0,r.Lk)("button",{onClick:function(t){return A.editCharger(e)},class:"edit-btn"},"Edit",8,d),(0,r.Lk)("button",{onClick:function(t){return A.deleteCharger(e._id)},class:"delete-btn"},"Delete",8,f)])])})),128))])]))]),A.showAddModal||A.showEditModal?((0,r.uX)(),(0,r.CE)("div",k,[(0,r.Lk)("div",h,[(0,r.Lk)("h2",null,(0,u.v_)(A.showEditModal?"Edit":"Add")+" Charger",1),(0,r.Lk)("form",{onSubmit:t[11]||(t[11]=(0,o.D$)((function(){return A.handleSubmit&&A.handleSubmit.apply(A,arguments)}),["prevent"]))},[(0,r.Lk)("div",v,[t[15]||(t[15]=(0,r.Lk)("label",null,"Name",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return A.form.name=e}),required:""},null,512),[[o.Jo,A.form.name]])]),(0,r.Lk)("div",m,[t[16]||(t[16]=(0,r.Lk)("label",null,"Latitude",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=function(e){return A.form.location.latitude=e}),required:"",step:"any"},null,512),[[o.Jo,A.form.location.latitude]])]),(0,r.Lk)("div",L,[t[17]||(t[17]=(0,r.Lk)("label",null,"Longitude",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=function(e){return A.form.location.longitude=e}),required:"",step:"any"},null,512),[[o.Jo,A.form.location.longitude]])]),(0,r.Lk)("div",b,[t[19]||(t[19]=(0,r.Lk)("label",null,"Status",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return A.form.status=e}),required:""},t[18]||(t[18]=[(0,r.Lk)("option",{value:"Active"},"Active",-1),(0,r.Lk)("option",{value:"Inactive"},"Inactive",-1)]),512),[[o.u1,A.form.status]])]),(0,r.Lk)("div",g,[t[20]||(t[20]=(0,r.Lk)("label",null,"Power Output (kW)",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=function(e){return A.form.powerOutput=e}),required:"",min:"0",step:"0.1"},null,512),[[o.Jo,A.form.powerOutput]])]),(0,r.Lk)("div",w,[t[21]||(t[21]=(0,r.Lk)("label",null,"Connector Type",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return A.form.connectorType=e}),required:""},null,512),[[o.Jo,A.form.connectorType]])]),(0,r.Lk)("div",y,[(0,r.Lk)("button",C,(0,u.v_)(A.showEditModal?"Update":"Add"),1),(0,r.Lk)("button",{type:"button",onClick:t[10]||(t[10]=function(){return A.closeModal&&A.closeModal.apply(A,arguments)}),class:"cancel-btn"}," Cancel ")])],32)])])):(0,r.Q3)("",!0)])}var E=n(908),T=n(388),_=n(8653),M=(n(8706),n(2008),n(3418),n(2062),n(8111),n(2489),n(1701),n(2892),n(9868),n(6099),n(1415),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698),n(7764),n(2953),n(144)),S=n(782);const U={name:"Dashboard",setup:function(){var e=(0,S.Pj)(),t=(0,r.EW)((function(){return e.getters.getLoading})),n=(0,r.EW)((function(){return e.getters.getChargers})),o=(0,M.KR)(!1),u=(0,M.KR)(!1),l=(0,M.KR)(null),a=(0,M.KR)({status:"",connectorType:"",minPower:""}),i=(0,M.KR)({name:"",location:{latitude:"",longitude:""},status:"Active",powerOutput:"",connectorType:""}),c=(0,r.EW)((function(){var e=new Set(n.value.map((function(e){return e.connectorType})));return Array.from(e)})),s=(0,r.EW)((function(){return n.value.filter((function(e){return(!a.value.status||e.status===a.value.status)&&((!a.value.connectorType||e.connectorType===a.value.connectorType)&&!(a.value.minPower&&e.powerOutput<Number(a.value.minPower)))}))})),d=function(e){return"".concat(e.latitude.toFixed(4),", ").concat(e.longitude.toFixed(4))},f=function(){i.value={name:"",location:{latitude:"",longitude:""},status:"Active",powerOutput:"",connectorType:""}},p=function(){o.value=!1,u.value=!1,l.value=null,f()},k=function(e){l.value=e._id,i.value=(0,_.A)({},e),u.value=!0},h=function(){var t=(0,T.A)((0,E.A)().m((function t(){return(0,E.A)().w((function(t){while(1)switch(t.n){case 0:if(t.p=0,!u.value){t.n=2;break}return t.n=1,e.dispatch("updateCharger",{id:l.value,charger:i.value});case 1:t.n=3;break;case 2:return t.n=3,e.dispatch("createCharger",i.value);case 3:return p(),t.n=4,e.dispatch("fetchChargers");case 4:t.n=6;break;case 5:t.p=5,t.v;case 6:return t.a(2)}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),v=function(){var t=(0,T.A)((0,E.A)().m((function t(n){return(0,E.A)().w((function(t){while(1)switch(t.n){case 0:if(!confirm("Are you sure you want to delete this charger?")){t.n=5;break}return t.p=1,t.n=2,e.dispatch("deleteCharger",n);case 2:return t.n=3,e.dispatch("fetchChargers");case 3:t.n=5;break;case 4:t.p=4,t.v;case 5:return t.a(2)}}),t,null,[[1,4]])})));return function(e){return t.apply(this,arguments)}}();return(0,r.sV)((0,T.A)((0,E.A)().m((function t(){return(0,E.A)().w((function(t){while(1)switch(t.n){case 0:return t.n=1,e.dispatch("fetchChargers");case 1:return t.a(2)}}),t)})))),{loading:t,chargers:n,filters:a,form:i,showAddModal:o,showEditModal:u,connectorTypes:c,filteredChargers:s,formatLocation:d,editCharger:k,handleSubmit:h,deleteCharger:v,closeModal:p}}};var V=n(1241);const P=(0,V.A)(U,[["render",A],["__scopeId","data-v-4e53f144"]]),I=P},9868:(e,t,n)=>{var r=n(6518),o=n(9504),u=n(1291),l=n(1240),a=n(2333),i=n(9039),c=RangeError,s=String,d=Math.floor,f=o(a),p=o("".slice),k=o(1.1.toFixed),h=function(e,t,n){return 0===t?n:t%2===1?h(e,t-1,n*e):h(e*e,t/2,n)},v=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},m=function(e,t,n){var r=-1,o=n;while(++r<6)o+=t*e[r],e[r]=o%1e7,o=d(o/1e7)},L=function(e,t){var n=6,r=0;while(--n>=0)r+=e[n],e[n]=d(r/t),r=r%t*1e7},b=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var r=s(e[t]);n=""===n?r:n+f("0",7-r.length)+r}return n},g=i((function(){return"0.000"!==k(8e-5,3)||"1"!==k(.9,0)||"1.25"!==k(1.255,2)||"1000000000000000128"!==k(0xde0b6b3a7640080,0)}))||!i((function(){k({})}));r({target:"Number",proto:!0,forced:g},{toFixed:function(e){var t,n,r,o,a=l(this),i=u(e),d=[0,0,0,0,0,0],k="",g="0";if(i<0||i>20)throw new c("Incorrect fraction digits");if(a!==a)return"NaN";if(a<=-1e21||a>=1e21)return s(a);if(a<0&&(k="-",a=-a),a>1e-21)if(t=v(a*h(2,69,1))-69,n=t<0?a*h(2,-t,1):a/h(2,t,1),n*=4503599627370496,t=52-t,t>0){m(d,0,n),r=i;while(r>=7)m(d,1e7,0),r-=7;m(d,h(10,r,1),0),r=t-1;while(r>=23)L(d,1<<23),r-=23;L(d,1<<r),m(d,1,1),L(d,2),g=b(d)}else m(d,0,n),m(d,1<<-t,0),g=b(d)+f("0",i);return i>0?(o=g.length,g=k+(o<=i?"0."+f("0",i-o)+g:p(g,0,o-i)+"."+p(g,o-i))):g=k+g,g}})}}]);
//# sourceMappingURL=374.6009f6fd.js.map